# dotfiles

With git submodules for Vim plugins and Antigen for zsh.

## Using this repository

To administrate my dotfiles, I'm using a method I found on [this HN thread](https://news.ycombinator.com/item?id=11070797)
which was later documented and expanded Nicola Paolucci in a blog post for the Atlassian Developers blog: 
[The best way to store your dotfiles: A bare git repository](https://developer.atlassian.com/blog/2016/02/best-way-to-store-dotfiles-git-bare-repo/).

From my .zshrc, you'll see that I've made a few changes to the documented configuration, though. Instead of ".cfg" and 
"config", I use ".dotfiles" and "dotfiles". This is why I will be documenting my process here. Here's a step-by-step if 
you are cloning this to a fresh machine:

First, ensure that you don't have to deal with recursion issues by ignoring your future git config files:

```
echo ".dotfiles" >> .gitignore
```

Next, clone your dotfiles to `$HOME`  using the `--bare` flag:

```
git clone --bare https://github.com/benjaminwil/dotfiles $HOME/.dotfiles
``` 

Doing this sets up the repository, but holds off actually cloning the repo contents. We'll do this in a bit, but first 
let's ensure that our required git alias works in the current shell session. Right now, the alias set up in .zshrc 
that we'll use to manage the dotfiles (instead of the naked `git` command) hasn't been cloned yet. But by the next 
session it will be. Here:

```
alias dotfiles='/usr/bin/git --git-dir=$HOME/.dotfiles/ --work-tree$HOME'
```

Now you can check out the repo contents:

```
dotfiles checkout
```

If you have previously edited some of the files you attempt to checkout, git will display a warning. Your modifications 
are probably redundant, but you should check. If they aren't, back up your changes and `checkout` again.

Finally ignore untracked files in the `$HOME` directory (of which there will be many) by adding this configuration to 
the local git configurations:

```
dotfiles config --local status.showUntrackedFiles no
```

That's it. Now you can push changes to your dotfiles with your regular git workflow. Instead of `git` just write 
`dotfiles`:

```
dotfiles add .readme.md && dotfiles commit -m 'You are beautiful`
```

## Git submodules

You'll also need to pull down the git submodules I've set up in order to get vim and zsh to be fully functioning:

```
dotfiles submodule init && dotfiles submodule update
```

## Switch to zsh

If you have `chsh` installed, this is easy. zsh is already included with macOS. 

```
chsh -s $(which zsh)
```       

## Install Homebrew

Easy. To install [Homebrew](http://brew.sh), just run this in your terminal: 

```
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

Once brew is operational, install [nvm](https://github.com/creationix/nvm) to avoid errors from my .zshrc and have 
access to sweet, sweet nvm:

```
brew install nvm
```

## maid

I also use [maid](https://github.com/benjaminoakes/maid) move any files saved to `~/Downloads` directly to the 
`~/Desktop`. Last I checked, this still doesn't work very well with Chrome. Otherwise, this is legitimately lovely. 
Hopefully I can use maid more in the future. In order to use anything in the `~/.maid` folder, then, we'll need to 
install maid and start it as a daemon:

```
gem install maid
```

Once it's installed, create a Launch Agent to launch the daemon. The folder for Launch Agents is `~/Library/LaunchAgents`. 
In the `.maid` folder, there's a .plist based on an example from 
[jurriaan.ninja](https://jurriaan.ninja/2015/01/01/maid-on-os-x.html). Just copy that to the Launch Agents folder. On 
your next reboot, maid should be at work.

## Enable text selection in Quick Look

It's really handy to be able to select and copy text by just previewing a document in Quick Look. Just run this command 
to make this real:

```
defaults write com.apple.finder QLEnableTextSelection -bool TRUE && killall Finder
```

## Markdown in Quick Look

To preview Markdown files in Quick Look, install [QLMarkdown](https://github.com/toland/qlmarkdown). I'm not totally sold 
on that plugin stock, but I haven't had time to whip anything else up.

## Hyper modifier

These instructions are specifically for my MacBook Air setup. Sorry.

I like to use my CAPS key as a hyper modifier (a shortcut for CMD+OPT+CTRL) and SHIFT+CAPS as another modifier. In order to 
set this up, install [Karabiner](#) and [Seil](#). In Karabiner, you'll need to add this to your `private.xml`:

```
<?xml version="1.0"?>
<root>
	<item>
		<name>F19 to F19</name>
		<appendix>(F19 to Hyper (ctrl+cmd+opt) + F19 Only, send escape)</appendix>
		<identifier>private.f192f19_escape</identifier>
		<autogen>
			--KeyOverlaidModifier--
			KeyCode::F19,
			KeyCode::COMMAND_L,
			ModifierFlag::OPTION_L | ModifierFlag::CONTROL_L,
			KeyCode::ESCAPE
		</autogen>
	</item>
</root>
```

Then, enable the **F19 to Hyper + F19 Only, send escape** option in Karabiner's Change Key tab. In Seil, check the **Change the 
caps lock key** option and set the keycode to **80**, which (on a 2011 MacBook Air, at least) is the F19 key.

## Disable OS X animations

Here's a complete list of commands to disable those pesky built-in animations that just weigh your system down.

```
# Window and popover open/close
defaults write -g NSAutomaticWindowAnimationsEnabled -bool false

# Smooth scrolling
defaults write -g NSScrollAnimationEnabled -bool false

# Show/hide sheets, resize preference windows, zoom windows
defaults write -g NSWindowResizeTime -float 0.001

# QuickLook open/close
defaults write -g QLPanelAnimationDuration -float 0

# Rubberband scrolling
defaults write -g NSScrollViewRubberbanding -bool false

# Resize windows before and after showing the version browser
defaults write -g NSDocumentRevisionsWindowTransformAnimation -bool false

# Toolbar or menubar in fullscreen
defaults write -g NSToolbarFullScreenAnimationDuration -float 0

# Scrolling columns view
defaults write -g NSBrowserColumnAnimationSpeedMultiplier -float 0

# Show/hide the dock
defaults write com.apple.dock autohide-time-modifier -float 0
defaults write com.apple.dock autohide-delay -float 0

# Show/hide Mission Control with CMD+numbers
defaults write com.apple.dock expose-animation-duration -float 0

# Show/hideLaunchpad
defaults write com.apple.dock springboard-show-duration -float 0
defaults write com.apple.dock springboard-hide-duration -float 0

# Changing pages in Launchpad
defaults write com.apple.dock springboard-page-duration -float 0
```

Thanks for reading this bullshit. üê¢
