#!/usr/bin/env sh

. fetter_init-check

fetter_dependency rg
fetter_dependency fzy

selected_file="$(rg --files | fzy --lines 99)"

[ -z $selected_file ] && exit

printf "evaluate-commands -try-client $KAKOUNE_CLIENT -verbatim -- edit! -existing '$selected_file'" | \
    kak -p $KAKOUNE_SESSION
